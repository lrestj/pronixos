##### SWAY CONFIG #####

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4

# No window bars
default_border pixel 4
default_floating_border pixel 5
client.focused #8000FF #8000FF #8000FF

# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

set $term foot
set $menu rofi -show drun -show-icons -sidebar-mode

# Apps at startup
exec_always waypaper --restore &
exec nm-applet --indicator &
exec lxqt-policykit-agent &
exec wl-paste --watch cliphist store
exec wlsunset -l 50.1 -L 16.2 -t 4700 -T 5000 # Screen blue light settings
exec udiskie -t

# Default wallpaper (more resolutions are available in /run/current-system/sw/share/backgrounds/sway/)
output * bg /run/current-system/sw/share/backgrounds/sway/Sway_Wallpaper_Blue_1920x1080.png fill

## Locking the system
set $lock swaylock -f -F -e -k -c 000000
bindsym --to-code Ctrl+Alt+Delete exec $lock

### Idle configuration
#
# Example configuration:
#
# exec swayidle -w \
#          timeout 300 'swaylock -f -c 000000' \
#          timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
#          before-sleep 'swaylock -f -c 000000'
#
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

### Input configuration
    input type:touchpad {
        dwt enabled
        tap enabled
        natural_scroll disabled
        middle_emulation enabled
    }

    input type:keyboard {
        xkb_layout "cz"
        xkb_options caps:swapescape
    }

    # switch to workspace with urgent window
    for_window [urgent="latest"] focus

    # focus_on_window_activation   focus
    focus_follows_mouse no


### Keybindings
    bindsym $mod+a exec $term
    bindsym Ctrl+Shift+y exec $term -e yazi
    bindsym Ctrl+Shift+e exec $term -e vim
    bindsym Ctrl+Shift+b exec brave

    # Toggle waybar
    bindsym $mod+Return exec pkill waybar || waybar-sway

    # Clipboard toggle
    bindsym $mod+c exec pkill rofi || cliphist list | rofi -dmenu -display-columns 2 | cliphist decode | wl-copy

    # Kill focused window
    bindsym $mod+q kill

    # Menu wlogout
    bindsym $mod+y exec pkill wlogout || wlogout -s -c 5 -r 5 -L 360 -R 360
    bindsym $mod+x exec pkill wlogout || ~/.dotfiles/scripts/power.sh

    # Start your launcher
    bindsym --release SUPER_L exec pkill rofi || $menu

    # Change normal to inverse to use left mouse button for resizing and right
    # mouse button for dragging.
    floating_modifier $mod normal

    # Reload the configuration file
    bindsym $mod+Shift+c reload

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m '!!! UKONČENÍ SWAY !!! Opravdu opustit sezení?' -B 'Ano, ukončit sway' 'swaymsg exit'

    # Move your focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move the focused window 
    bindsym $mod+Alt+$left move left
    bindsym $mod+Alt+$down move down
    bindsym $mod+Alt+$up move up
    bindsym $mod+Alt+$right move right

    # Switch to workspace
    bindsym Alt+left workspace number 1
    bindsym Alt+right workspace number 2
    bindsym Alt+down workspace number 3
    bindsym Alt+up workspace number 4

    # Move focused container to workspace
    bindsym Alt+Ctrl+Left move container to workspace number 1
    bindsym Alt+Ctrl+Right move container to workspace number 2
    bindsym Alt+Ctrl+Down move container to workspace number 3
    bindsym Alt+Ctrl+Up move container to workspace number 4

    # Layout toggle
    bindsym Alt+w layout toggle split

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Toggle the current focus between tiling and floating mode
    bindsym Ctrl+Alt+f floating toggle

    # Swap focus between the tiling area and the floating area
    bindsym $mod+space focus mode_toggle

    # Move window to the scratchpad and show
    bindsym $mod+Shift+s move scratchpad
    bindsym $mod+s scratchpad show

### Resizing containers:

    bindsym $mod+r mode "resize"
    mode "resize" {
        bindsym Left resize shrink width 10px
        bindsym Down resize grow height 10px
        bindsym Up resize shrink height 10px
        bindsym Right resize grow width 10px
        # Return to default mode
        bindsym Return mode "default"
        bindsym Escape mode "default"
    }

    # Special keys to adjust volume via PulseAudio
    bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
    # Special keys to adjust brightness via brightnessctl
    bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+
    # Special key to take a screenshot with grimshot
    bindsym $mod+Print exec grimshot --notify save anything

### Windows rules
for_window [class=".*"] move left

### Status Bar:
    bar {
        swaybar_command waybar-sway
        position top
    
        # When the status_command prints a new line to stdout, swaybar updates.
        # The default just shows the current date and time.
        status_command while date +'%Y-%m-%d %X'; do sleep 1; done
    
        colors {
            statusline #ffffff
            background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
        }
    }

include /etc/sway/config.d/*

##### END OF FILE #####
